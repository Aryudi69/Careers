<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload CV</title>
</head>
<body>
    <h2>Upload Your CV</h2>
    <form id="cvForm" action="https://script.google.com/macros/s/AKfycbyoaxHwFXI6i9B7ajOLuMGGuVTv4P0JpDCVD3gkvfDzmvF2GfD5D2C0WCZzqyOpMTvqPw/exec" method="post" enctype="multipart/form-data">
        
        <!-- Hidden Fields to Pass Voiceflow Variables -->
        <input type="hidden" name="Full Name" id="full_name">
        <input type="hidden" name="Years of Experience" id="years_of_experience">
        <input type="hidden" name="Position" id="position">
        <input type="hidden" name="Preferred Job Location" id="preferred_job_location">
        <input type="hidden" name="Phone Number" id="phoneno">
        
        <!-- Visible File Upload -->
        <label for="cv">Upload Your CV:</label>
        <input type="file" name="CV" id="cv" required>
        
        <button type="submit">Submit</button>
    </form>

    <script>
        // Capture Voiceflow variables from the URL
        const urlParams = new URLSearchParams(window.location.search);
        document.getElementById("full_name").value = urlParams.get("full_name") || "";
        document.getElementById("years_of_experience").value = urlParams.get("years_of_experience") || "";
        document.getElementById("position").value = urlParams.get("position") || "";
        document.getElementById("preferred_job_location").value = urlParams.get("preferred_job_location") || "";
        document.getElementById("phoneno").value = urlParams.get("phoneno") || "";
    </script>
</body>
</html>
